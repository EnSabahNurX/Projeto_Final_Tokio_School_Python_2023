<!DOCTYPE html>
<html>
<head>
    <title>Painel de Administração</title>
</head>
<body>
    <!-- Incluir o template do cabeçalho -->
    {% include 'header.html' %}
    
    <h1>Painel de Administração</h1>

    <h2>Adicionar/Editar Veículo</h2>
    <form method="POST" action="/admin">
        <input type="hidden" name="id" value="{{ vehicle.id if vehicle else '' }}">
        <label for="type">Tipo:</label>
        <select name="type" id="type">
            <option value="Carro" {% if vehicle and vehicle.type == 'Carro' %}selected{% endif %}>Carro</option>
            <option value="Mota" {% if vehicle and vehicle.type == 'Mota' %}selected{% endif %}>Mota</option>
        </select>
        <br>
        <label for="brand">Marca:</label>
        <input type="text" name="brand" id="brand" value="{{ vehicle.brand if vehicle else '' }}" required>
        <br>
        <label for="model">Modelo:</label>
        <input type="text" name="model" id="model" value="{{ vehicle.model if vehicle else '' }}" required>
        <br>
        <label for="year">Ano:</label>
        <input type="number" name="year" id="year" min="1900" max="2099" value="{{ vehicle.year if vehicle else '' }}" required>
        <br>
        <label for="price_per_day">Preço por Dia (€):</label>
        <input type="number" name="price_per_day" id="price_per_day" step="0.01" value="{{ vehicle.price_per_day if vehicle else '' }}" required>
        <br>
        <input type="submit" value="Salvar">
    </form>

    <h2>Veículos Registrados</h2>
    <table border="1">
        <tr>
            <th>Tipo</th>
            <th>Marca</th>
            <th>Modelo</th>
            <th>Ano</th>
            <th>Preço por Dia (€)</th>
            <th>Ações</th>
        </tr>
        {% for vehicle in vehicles %}
        <tr>
            <td>{{ vehicle.type.value }}</td>
            <td>{{ vehicle.brand }}</td>
            <td>{{ vehicle.model }}</td>
            <td>{{ vehicle.year }}</td>
            <td>{{ vehicle.price_per_day }}</td>
            <td>
                <a href="/edit_vehicle/{{ vehicle.id }}">Editar</a>
                <form method="POST" action="/delete_vehicle/{{ vehicle.id }}" style="display: inline-block;">
                    <input type="submit" value="Excluir">
                </form>
            </td>
        </tr>
        {% endfor %}
    </table>
</body>
</html>
